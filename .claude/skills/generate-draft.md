# スキル: 対話型・下書き生成

## 概要
トピックベースで記事を生成する。
バックログに縛られず、ユーザーとの対話から一次情報を引き出し、
過去のエピソード（story-bank）や記事と組み合わせて下書きを作る。

## 呼び出し方
```
claude "◯◯に関する記事を書きたい"
claude "〜について書こうと思ってる"
claude "新しい記事のアイデアがあるんだけど"
```

---

## フロー

### Phase 1: トピック理解（1ターン目）

ユーザーがトピックを投げたら、まず以下を確認:

1. **テーマの明確化**
   - 「それは具体的にどんな話？」
   - 「読者に一番伝えたいことは？」

2. **ターゲット確認**
   - 「誰に向けて書く？（過去の自分？同業者？）」

3. **関連エピソードの有無**
   - `context/story-bank.md` を検索
   - 関連しそうなストーリーがあれば提示
   - 「これに関連するエピソードある？」

**出力例:**
```
いいテーマだね！いくつか聞かせて。

1. この記事で一番伝えたい「結論」は何？
2. このテーマに関して、具体的に何をした？（数字や事実があれば）
3. 読者は誰を想定してる？（昔の自分？同じ悩みを持つ人？）

あと、story-bankを見たら [STORY-003] ホテルがメディアになる
が関連しそうだけど、この話も絡める？
```

---

### Phase 2: 深掘り質問（2-3ターン）

ユーザーの回答を受けて、記事に必要な一次情報を引き出す。

**質問の型:**

#### A. 事実・数字系
- 「具体的にいつの話？」
- 「数字で言うとどのくらい？」
- 「何回やった？何日かかった？」

#### B. 感情・動機系
- 「なんでそれをやろうと思った？」
- 「その時どう感じた？」
- 「一番キツかった瞬間は？」

#### C. 転機・気づき系
- 「何がきっかけで変わった？」
- 「やる前と後で何が違った？」
- 「今振り返ると何が重要だった？」

#### D. 再現性系
- 「他の人が同じことするなら、最初に何をすべき？」
- 「失敗しやすいポイントは？」
- 「これだけは絶対やった方がいいことは？」

**質問のルール:**
- 1ターンにつき質問は3つまで
- 答えやすい具体的な質問にする
- 既にstory-bankにある情報は聞かない

**出力例:**
```
なるほど、物件探しの話か。もう少し聞かせて。

1. 「関東全ての自治体に電話」って、具体的に何件くらいかけた？
2. 電話で何て言って聞いた？トークスクリプトみたいなのあった？
3. 断られた時、心折れなかった？どうやってメンタル保ってた？
```

---

### Phase 3: 構成提案（1ターン）

十分な情報が集まったら、記事の構成を提案する。

**出力例:**
```
OK、だいぶ見えてきた。こんな構成でどう？

---
**タイトル案:** 関東200自治体に電話した男が見つけた「お宝物件」の探し方

**構成:**
1. リード: 「ネットで物件探ししてない？それ、お宝は見つからないよ」
2. 導入: 26歳、キャッシュなし信用なしで物件を探し始めた話
3. 本文①: なぜ自治体に電話するという発想に至ったか
4. 本文②: 実際のトークスクリプトと反応パターン
5. 本文③: 200件電話して見えた「当たり物件」の特徴
6. まとめ: ネットに出てない情報を取りに行く姿勢の大切さ

**使うエピソード:**
- [STORY-001] 関東全自治体への電話営業
- [STORY-002] キャッシュなし・信用なしの状態
- [今回の新情報] トークスクリプト、200件という数字

---
この方向でいい？修正あれば言って。OKなら下書き書くよ。
```

---

### Phase 4: 下書き生成

ユーザーがOKしたら、下書きを生成。

**参照するもの:**
- `.claude/rules/writing-style.md` - 文体
- `.claude/rules/article-structure.md` - 構成
- `context/story-bank.md` - 既存エピソード
- `articles/` 配下の過去記事（あれば）
- Phase 1-3で得た新情報

**出力:**
- `articles/{記事ID}/draft.md` に保存
- 記事IDは内容から自動生成（例: `property-hunting-200calls`）

**生成後の処理:**
- 新しく得たエピソードを `context/story-bank.md` に追加提案
- X投稿の生成を提案

---

### Phase 5: エピソード保存

記事生成後、新しい一次情報をstory-bankに追加。

**出力例:**
```
下書きできた！ articles/property-hunting-200calls/draft.md に保存したよ。

あと、今回の対話で新しいエピソードが出てきたから、
story-bankに追加しておくね:

---
### [STORY-015] 自治体電話のトークスクリプト
- **時期**: 2024年
- **内容**: 「空き家対策の担当の方いますか？」から始める
- **ポイント**: 最初から物件くださいと言わない、まず相談ベース
- **成功率**: 200件中、話を聞いてもらえたのは約30件
- **キーフレーズ**: 「良くも悪くも作業ゲー」
---

X投稿も作る？
```

---

## 質問テンプレート集

### テーマ別の深掘り質問

#### キャリア・転職系
- 「転職を決意した瞬間、何があった？」
- 「面接で一番手応えあった質問と回答は？」
- 「入社して最初の1ヶ月、何に驚いた？」

#### 事業・起業系
- 「最初の売上が立った瞬間、いくらだった？」
- 「一番キャッシュがヤバかった時期は？」
- 「今だから言える失敗は？」

#### 資産・お金系
- 「その投資を決めた時、周りの反応は？」
- 「不安はなかった？どう乗り越えた？」
- 「今振り返って、あの判断は正解だった？」

#### マインド・習慣系
- 「その習慣を始めたきっかけは？」
- 「続けるためにやってる工夫は？」
- 「サボりたくなる時、どうしてる？」

---

## 注意事項

1. **質問しすぎない**
   - 最大3ターンで情報収集を終える
   - ユーザーが「もう書いて」と言ったら即座に生成

2. **既存情報を活用**
   - story-bankにある情報は再度聞かない
   - 「前に〜って言ってたよね」と参照する

3. **構成提案は必ず確認を取る**
   - 勝手に書き始めない
   - 「この方向でいい？」と確認

4. **新情報は必ず保存**
   - 対話で得たエピソードはstory-bankに追加
   - 次回以降の記事で再利用できるように
